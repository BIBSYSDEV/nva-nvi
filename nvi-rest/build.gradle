plugins {
    id 'nva.nvi.java-conventions'
}

dependencies {
    implementation libs.aws.sdk2.dynamodbenhanced
    implementation nvaCatalog.aws.sdk2.dynamo
    implementation nvaCatalog.guava
    implementation nvaCatalog.httpclient5
    implementation nvaCatalog.jackson.databind
    implementation nvaLibs.apigateway
    implementation nvaLibs.auth
    implementation nvaLibs.clients
    implementation nvaLibs.core
    implementation nvaLibs.json
    implementation project(':nvi-commons')
    testFixturesAnnotationProcessor nvaCatalog.errorprone
    testFixturesImplementation(testFixtures(project(":nvi-commons")))
    testImplementation libs.dynamodDbLocal
    testImplementation nvaCatalog.assertj.core
    testImplementation nvaCatalog.bundles.testing.cucumber
    testImplementation nvaCatalog.bundles.testing.junit
    testImplementation nvaCatalog.hamcrest
    testImplementation nvaCatalog.mockito.core
    testImplementation nvaCatalog.zalando
    testImplementation nvaLibs.testutils
    testImplementation project(':nvi-test')
    testImplementation(testFixtures(project(":nvi-commons")))
}

test {
    environment("API_HOST", "api.fake.nva.aws.unit.no")
    environment("BACKEND_CLIENT_AUTH_URL", "My url")
    environment("NVI_TABLE_NAME", "some-table")
}
