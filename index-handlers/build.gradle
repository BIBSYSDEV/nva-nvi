plugins {
    id 'nva.nvi.java-conventions'
}
dependencies {
    implementation project(':nvi-commons')
    implementation libs.nva.json
    implementation libs.nva.core
    implementation libs.nva.commons.secrets
    implementation libs.nva.commons.auth
    implementation libs.nva.s3

    implementation libs.aws.lambda.java.core
    implementation libs.aws.lambda.events
    implementation libs.aws.java.sdk.core
    implementation libs.aws.sdk2.s3
    implementation libs.aws.sdk2.sqs
    implementation libs.aws.sdk2.apache.client

    implementation libs.opensearch.java
    implementation libs.opensearch.rest.client
    implementation libs.jackson.core
    implementation libs.jackson.databind
    implementation libs.com.auth0.jwt
    implementation libs.guava

    implementation libs.bundles.jacksonjr
    implementation libs.bundles.logging
}

test {
    useJUnitPlatform()
    environment "EXPANDED_RESOURCES_BUCKET", "ignoredBucket"
    environment("SEARCH_INFRASTRUCTURE_API_URI", "localhost")
    environment("SEARCH_INFRASTRUCTURE_AUTH_URI", "localhost")
}